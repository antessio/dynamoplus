{"ast":null,"code":"var __jsx = React.createElement;\n// pages/dogs/_breed.js\nimport React from 'react';\nimport axios from 'axios';\nimport Default from '../../layouts/default';\n\nclass DogBreedPage extends React.Component {\n  static getInitialProps({\n    query: {\n      breed\n    }\n  }) {\n    return {\n      breed\n    };\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      meta: {},\n      dogs: []\n    };\n    this.fetchData = this.fetchData.bind(this);\n  }\n\n  async componentDidMount() {\n    await this.fetchData();\n  }\n\n  async fetchData() {\n    this.setState({\n      loading: true\n    });\n    const reg = new RegExp(this.props.breed, 'g');\n    const {\n      data\n    } = await axios.get('https://api.thedogapi.com/v1/images/search?size=thumb&has_breeds=true&limit=50');\n    const filteredDogs = data.filter(dog => dog.breeds[0].name.toLowerCase().match(reg));\n    this.setState({\n      dogs: filteredDogs,\n      breed: this.props.breed,\n      meta: {\n        title: `Only ${this.props.breed} here!`,\n        description: 'Cute doggies. :D'\n      },\n      loading: false\n    });\n  }\n\n  renderDogList() {\n    return __jsx(\"ul\", null, this.state.dogs.map((dog, key) => __jsx(\"li\", {\n      key: key\n    }, __jsx(\"img\", {\n      src: dog.url,\n      alt: \"\"\n    }))));\n  }\n\n  render() {\n    return __jsx(Default, {\n      meta: this.state.meta\n    }, __jsx(\"div\", null, __jsx(\"h1\", null, \"Dog breed: \", this.props.breed), this.renderDogList()));\n  }\n\n}\n\nexport default DogBreedPage;","map":null,"metadata":{},"sourceType":"module"}